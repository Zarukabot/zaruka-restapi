<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zaruka Api</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Host+Grotesk:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">

<style>
  body { background-color: white; font-family: "Poppins", sans-serif; -webkit-tap-highlight-color: transparent; }
  * { scroll-behavior: smooth; }
  @keyframes colorChange { 0%{color:rgba(0,0,0,.7)}50%{color:rgb(84,190,255)}100%{color:rgba(0,0,0,.7)} }
  .container{max-width:800px;margin:0 auto;padding:16px}
  .text-center{text-align:left;padding-bottom:5px;margin:0 15px}
  .text-center h1 span{font-size:10px;background-color:rgba(0,0,0,.7);padding:2px 6px;border-radius:8px;color:#fff}
  .text-purple-700{color:#6B21A8}
  .text-gray-600{font-weight:470}
  .text-center h1{animation:colorChange 15s infinite alternate;font-weight:550}
  .link a{color:rgba(0,0,0,.8);font-size:15px;font-weight:550}
  .link a:hover{color:rgba(84,190,255,1)}
  .card{margin:2.6rem 4px}
  .card .title{font-size:22px;font-weight:505;margin:0 10px;color:rgba(0,0,0,.7)}
  .card .endpoints{display:flex;justify-content:space-between;align-items:center;background-color:rgba(242,242,242,.5);border-radius:8px;margin:8px 10px;height:55px}
  .card .endpoints .method{background-color:rgba(0,0,0,.7);border-radius:8px;padding:2px 7px;margin:8px 8px;font-family:"Poppins",sans-serif;font-weight:600;color:#fff;font-size:15px}
  .card .endpoints a{background-color:rgba(84,190,255,1);border-radius:8px;padding:2px 7px;margin:8px 8px;font-family:"Poppins",sans-serif;font-weight:600;color:#fff;font-size:15px;text-decoration:none}
  .card .endpoints a:hover{background-color:rgba(0,0,0,.7)}
  .card .endpoints .name{font-size:14px;font-weight:580;color:rgba(0,0,0,.7)}
  .tombol{opacity:0;position:fixed;z-index:99;bottom:25px;right:-50vh;transition:all .8s}
  .tombol button{border:none;padding:15px 15px;border-radius:50px;background-color:rgba(84,190,255,1)}
  .tombol button:active{background-color:rgba(0,0,0,.7)}
  .tombol button a{color:#fff;text-decoration:none;font-size:20px}
  .tombol.show{right:25px;opacity:1}

  /* ===== API TESTER MODAL + HISTORY ===== */
  .api-modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);align-items:center;justify-content:center}
  .api-modal-content{background:#fff;padding:20px;border-radius:10px;width:900px;max-width:95%;box-shadow:0 4px 20px rgba(0,0,0,.3);font-family:"Poppins",sans-serif;display:flex;gap:15px}
  .api-left{flex:2}
  .api-history{flex:1;background:#f9f9f9;border-radius:8px;border:1px solid #ddd;padding:10px;max-height:500px;overflow-y:auto}
  .api-history h4{margin-top:0}
  .history-item{padding:5px;border-bottom:1px solid #eee;cursor:pointer;font-size:12px}
  .history-item:hover{background:#e0f7ff}
  .api-modal-content input,.api-modal-content textarea,.api-modal-content select{width:100%;padding:6px;margin-bottom:10px;border-radius:5px;border:1px solid #ccc;font-size:14px}
  .api-modal-content button{background-color:rgba(84,190,255,1);border:none;padding:6px 12px;margin-right:6px;border-radius:5px;font-weight:600;cursor:pointer;color:#fff}
  .api-modal-content button:hover{background-color:rgba(0,0,0,.7)}
  .api-tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:8px}
  .api-tab{padding:6px 12px;cursor:pointer;background:#f0f0f0;margin-right:4px;border-radius:5px 5px 0 0}
  .api-tab.active{background:#fff;border-bottom:2px solid rgba(84,190,255,1);font-weight:bold}
  .api-tab-content{display:none}
  .api-tab-content.active{display:block}
  .api-response-box{width:100%;height:250px;margin-top:8px;border-radius:5px;padding:10px;font-size:13px;border:1px solid #ccc;background:#1e1e1e;color:#d4d4d4;white-space:pre-wrap;overflow:auto;font-family:monospace}
  /* Syntax highlight */
  .token-key{color:#9cdcfe}
  .token-string{color:#ce9178}
  .token-number{color:#b5cea8}
  .token-boolean{color:#569cd6}
  .token-null{color:#569cd6;font-style:italic}
</style>
</head>

<body>
  <div class="tombol">
    <button><a class="fa fa-arrow-up" href="#"></a></button>
  </div>

  <div class="container">
    <div class="text-center">
      <h1 class="font-bold text-purple-700">Zaruka Api <span>v1.0.0</span></h1>
      <div class="link">
        <a href="https://wa.me/6282249787434" class="text-blue-500">Contact the developer</a>
      </div>
      <div class="link">
        <a href="https://wa.me/6282249787434" class="text-blue-500">API Development Information</a>
      </div>
    </div>

    <!-- ====== START Endpoints (original) ====== -->
    <div class="card">
      <div class="title">Orderkuota Gateway</div>
      <div class="endpoints">
        <p class="method">Get</p><p class="name">Create Payment</p>
        <a href="/api/orkut/createpayment?apikey=&amount=&codeqr=">Try</a>
      </div>
      <div class="endpoints">
        <p class="method">Get</p><p class="name">Cek Status</p>
        <a href="/api/orkut/cekstatus?apikey=&merchant=&keyorkut=">Try</a>
      </div>
    </div>

    <div class="card">
      <div class="title">Downloader</div>
      <div class="endpoints"><p class="method">Get</p><p class="name">AIO (all downloader)</p><a href="/api/download/aiodl?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Tiktok</p><a href="/api/download/tiktokdl?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Facebook</p><a href="/api/download/fbdl?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Instagram</p><a href="/api/download/igdl?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Ytmp3</p><a href="/api/download/ytmp3?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Ytmp4</p><a href="/api/download/ytmp4?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Youtube V2</p><a href="/api/download/ytdlv2?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Capcut</p><a href="/api/download/capcut?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Twitter</p><a href="/api/download/twitter?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Google Drive</p><a href="/api/download/gdrive?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Mediafire</p><a href="/api/download/mediafire?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Pinterest Video</p><a href="/api/download/pindlvid?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Spotify</p><a href="/api/download/spotify?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Play Spotify</p><a href="/api/download/playspotify?q=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Soundcloud</p><a href="/api/download/soundcloud?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Snackvideo</p><a href="/api/download/snackvideo?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Terabox</p><a href="/api/download/terabox?url=">Try</a></div>
    </div>

    <div class="card">
      <div class="title">Openai</div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Openai</p><a href="/api/ai/openai?msg=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Openai Prompt</p><a href="/api/ai/openai-prompt?prompt=&msg=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Blackbox</p><a href="/api/ai/blackbox?msg=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">DeepSeek</p><a href="/api/ai/deepseek?msg=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">GPT 4</p><a href="/api/ai/gpt4?text=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">GPT 3.5 Turbo</p><a href="/api/ai/gpt-3-5-turbo?text=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Gemini</p><a href="/api/ai/gemini?text=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Sim Simi</p><a href="/api/ai/simsimi?msg=">Try</a></div>
    </div>

    <div class="card">
      <div class="title">Tools</div>
      <div class="endpoints"><p class="method">GET</p><p class="name">OCR</p><a href="/api/tools/ocr?url=">Try</a></div>
      <div class="endpoints"><p class="method">GET</p><p class="name">Skiplink</p><a href="/api/tools/skiplink?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Shortlink Tinyurl</p><a href="/api/tools/tinyurl?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Shortlink Isgd</p><a href="/api/tools/isgd?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Whois Domain</p><a href="/api/tools/whois?domain=">Try</a></div>
    </div>

    <div class="card">
      <div class="title">Search</div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Google Image</p><a href="/api/search/gimage?q=">Try</a></div>
      <div class="endpoints"><p class="method">GET</p><p class="name">OtakOtaku Search</p><a href="/api/search/otakotaku?query=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Pinterest</p><a href="/api/search/pinterest?q=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Playstore</p><a href="/api/search/playstore?q=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Fdroid</p><a href="/api/search/fdroid?q=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Youtube Search</p><a href="/api/search/ytsearch?q=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Happymod</p><a href="/api/search/happymod?q=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Sfilemobi</p><a href="/api/search/sfile?q=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Tiktok Search</p><a href="/api/search/tiktoksearch?q=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">NPM Search</p><a href="/api/search/npm?q=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Lyrics</p><a href="/api/search/lyrics?q=">Try</a></div>
    </div>

    <div class="card">
      <div class="title">Sosmed Stalk</div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Tiktok Stalk</p><a href="/api/tools/tiktokstalk?user=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Instagram Stalk</p><a href="/api/tools/igstalk?username=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Github Stalk</p><a href="/api/tools/githubstalk?user=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">NPM Stalk</p><a href="/api/tools/npmstalk?pkgname=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Youtube Stalk</p><a href="/api/tools/youtubestalk?user=">Try</a></div>
    </div>

    <div class="card">
      <div class="title">Image Creator</div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Brat</p><a href="/api/imagecreator/bratgenerator?text=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Emoji Mix</p><a href="/api/imagecreator/emojimix?emoji1=&emoji2=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Emoji To Gif</p><a href="/api/imagecreator/emojitogif?emoji=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Remini</p><a href="/api/imagecreator/remini?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Removebg</p><a href="/api/imagecreator/removebg?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Upscale</p><a href="/api/imagecreator/upscale?url=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Quotely</p><a href="/api/imagecreator/qc?text=&fotoUrl=&nama=">Try</a></div>
    </div>

    <div class="card">
      <div class="title">Panel Pterodactyl</div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Create Panel</p><a href="/api/pterodactyl/create?username=&ram=&disk=&cpu=&eggid=&nestid=&loc=&domain=&ptla=&ptlc=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">List Panel</p><a href="/api/pterodactyl/listpanel?eggid=&nestid=&loc=&domain=&ptla=&ptlc=">Try</a></div>
      <div class="endpoints"><p class="method">Get</p><p class="name">Delete Panel</p><a href="/api/pterodactyl/delete?idserver=&domain=&ptla=">Try</a></div>
    </div>
    <!-- ====== END Endpoints ====== -->
  </div>

  <!-- ===== API TESTER MODAL (injected) ===== -->
  <div id="apiModal" class="api-modal">
    <div class="api-modal-content">
      <div class="api-left">
        <h3>API Tester</h3>
        <select id="apiMethod">
          <option>GET</option><option>POST</option><option>PUT</option><option>DELETE</option>
        </select>
        <input type="text" id="modalApiUrl" placeholder="Masukkan API URL">
        <div>
          <button id="copyApiBtn">Copy API</button>
          <button id="sendApiBtn">Send Request</button>
          <button id="closeApiModal" style="background:red;">Close</button>
        </div>

        <div class="api-tabs">
          <div class="api-tab active" data-tab="headers">Headers</div>
          <div class="api-tab" data-tab="body">Body</div>
        </div>

        <div id="headers" class="api-tab-content active">
          <textarea id="apiHeaders" placeholder='Contoh: {"Authorization": "Bearer token"}'></textarea>
        </div>
        <div id="body" class="api-tab-content">
          <textarea id="apiBody" placeholder='Masukkan body JSON di sini'></textarea>
        </div>

        <h4>Response</h4>
        <pre id="apiResponse" class="api-response-box">Response akan muncul di sini...</pre>
      </div>

      <div class="api-history">
        <h4>History</h4>
        <div id="historyList"></div>
      </div>
    </div>
  </div>

<script>
  // === Back to top ===
  document.addEventListener("DOMContentLoaded", function() {
    const backToTopButton = document.querySelector(".tombol");
    window.addEventListener("scroll", function() {
      const scrollHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrollPosition = window.scrollY;
      if (scrollPosition > scrollHeight * 0.10) backToTopButton.classList.add("show");
      else backToTopButton.classList.remove("show");
    });
  });

  // === JSON syntax highlight ===
  function syntaxHighlight(json) {
    if (typeof json != 'string') json = JSON.stringify(json, undefined, 2);
    json = json.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
    return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(?:\\s*:)?|\\b(true|false|null)\\b|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)/g, function (match) {
      let cls='token-number';
      if (/^"/.test(match)) { cls = /:$/.test(match) ? 'token-key' : 'token-string'; }
      else if (/true|false/.test(match)) cls='token-boolean';
      else if (/null/.test(match)) cls='token-null';
      return '<span class="'+cls+'">'+match+'</span>';
    });
  }

  // === History helpers ===
  function saveHistory(item){
    let history = JSON.parse(localStorage.getItem("apiHistory") || "[]");
    history.unshift(item); if (history.length>20) history.pop();
    localStorage.setItem("apiHistory", JSON.stringify(history));
    renderHistory();
  }
  function renderHistory(){
    let history = JSON.parse(localStorage.getItem("apiHistory") || "[]");
    const list = document.getElementById("historyList"); if (!list) return;
    list.innerHTML = "";
    history.forEach(h=>{
      const div = document.createElement("div");
      div.className="history-item";
      div.innerHTML = `<strong>${h.method}</strong> ${h.url}<br><small>${h.time}</small>`;
      div.addEventListener("click",()=>{
        document.getElementById("apiMethod").value = h.method;
        document.getElementById("modalApiUrl").value = h.url;
        document.getElementById("apiHeaders").value = JSON.stringify(h.headers||{}, null, 2);
        document.getElementById("apiBody").value = h.body || "";
      });
      list.appendChild(div);
    });
  }

  // === API Tester wiring ===
  document.addEventListener("DOMContentLoaded", function() {
    const modal = document.getElementById("apiModal");
    const apiUrlInput = document.getElementById("modalApiUrl");
    const apiResponse = document.getElementById("apiResponse");
    const methodSelect = document.getElementById("apiMethod");
    const apiHeaders = document.getElementById("apiHeaders");
    const apiBody = document.getElementById("apiBody");

    // Buka modal saat klik Try
    document.querySelectorAll('.endpoints a').forEach(link=>{
      link.addEventListener('click', function(e){
        e.preventDefault();
        apiUrlInput.value = this.getAttribute('href');
        apiResponse.innerHTML = "Response akan muncul di sini...";
        modal.style.display = "flex";
        renderHistory();
      });
    });

    // Copy API (salin URL absolut)
    document.getElementById("copyApiBtn").addEventListener("click", ()=>{
      const raw = apiUrlInput.value.trim();
      const absoluteUrl = new URL(raw, window.location.origin).href;
      navigator.clipboard.writeText(absoluteUrl);
      alert("API URL copied!");
    });

    // Kirim request
    document.getElementById("sendApiBtn").addEventListener("click", ()=>{
      const rawUrl = apiUrlInput.value.trim();
      if(!rawUrl){ alert("Masukkan URL API terlebih dahulu"); return; }
      const url = rawUrl; // fetch biarkan relatif agar ke domain saat ini
      const method = methodSelect.value;
      let headers = {}; let body = null;

      try { headers = apiHeaders.value ? JSON.parse(apiHeaders.value) : {}; }
      catch(e){ alert("Headers harus format JSON!"); return; }

      if (method !== "GET" && apiBody.value) {
        try { body = JSON.stringify(JSON.parse(apiBody.value)); }
        catch(e){ alert("Body harus format JSON!"); return; }
      }

      fetch(url, { method, headers, body })
        .then(async res => {
          const txt = await res.text();
          const meta = `Status: ${res.status} ${res.statusText}\n`;
          try {
            const json = JSON.parse(txt);
            apiResponse.innerHTML = meta + syntaxHighlight(json);
          } catch {
            apiResponse.textContent = meta + txt;
          }
          saveHistory({
            method,
            url: new URL(rawUrl, window.location.origin).pathname + new URL(rawUrl, window.location.origin).search,
            headers,
            body,
            time: new Date().toLocaleString()
          });
        })
        .catch(err=>{
          apiResponse.textContent = `Error: ${err}`;
        });
    });

    // Tutup modal
    document.getElementById("closeApiModal").addEventListener("click", ()=>{ modal.style.display="none"; });

    // Klik luar modal => tutup
    modal.addEventListener("click", function(e){ if (e.target===modal) modal.style.display="none"; });

    // Tab switch
    document.querySelectorAll(".api-tab").forEach(tab=>{
      tab.addEventListener("click", function(){
        document.querySelectorAll(".api-tab").forEach(t=>t.classList.remove("active"));
        document.querySelectorAll(".api-tab-content").forEach(c=>c.classList.remove("active"));
        this.classList.add("active");
        document.getElementById(this.dataset.tab).classList.add("active");
      });
    });
  });
</script>
</body>
</html>
